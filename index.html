<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nathan Louis</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet" />
    <style>
      body {
        font-family: 'Inter', sans-serif;
      }
    </style>

    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', 'GTM-P42JHXC5');
    </script>
    <!-- End Google Tag Manager -->

    <!-- Meta Pixel Code -->
    <script>
      !(function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
          n.callMethod ? n.callMethod.apply(n, arguments) : n.queue.push(arguments);
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = '2.0';
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
      })(window, document, 'script', 'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '770235948821239');
      fbq('track', 'PageView');
    </script>
    <noscript
      ><img
        height="1"
        width="1"
        style="display: none"
        src="https://www.facebook.com/tr?id=770235948821239&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->
  </head>
  <body class="bg-gradient-to-b from-[#7a0101] to-[#a50202] min-h-screen">
    <!-- Google Tag Manager -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-P42JHXC5"
        height="0"
        width="0"
        style="display: none; visibility: hidden"></iframe
    ></noscript>
    <!-- End Google Tag Manager -->

    <div class="container mx-auto px-4 py-8 max-w-md">
      <!-- Profile Section -->
      <div class="text-center mb-8">
        <div class="w-24 h-24 mx-auto mb-4 rounded-full overflow-hidden shadow-lg">
          <img
            id="profile-image"
            src="/images/profile-photo.webp"
            alt="Nathan Louis"
            class="w-full h-full object-cover" />
        </div>
        <h1 class="text-3xl mb-2 font-bold uppercase text-[#e7ab6f]">Nathan Louis</h1>
        <div class="flex justify-center">
          <a href="https://instagram.com/igdaloff" target="_blank" rel="noopener noreferrer" class="inline-block">
            <img
              src="./images/instagram.svg"
              alt="Instagram"
              class="w-6 h-6 filter hover:opacity-100 transition-opacity duration-200" />
          </a>
        </div>
      </div>

      <!-- Links Container -->
      <div id="links-container" class="space-y-2"></div>
    </div>

    <script>
      // Load configuration and render links
      async function loadConfig() {
        try {
          const response = await fetch('./data.json');
          const config = await response.json();

          // Render links
          const container = document.getElementById('links-container');
          config.links.forEach(link => {
            const linkElement = createLinkElement(link);
            container.appendChild(linkElement);
          });
        } catch (error) {
          console.error('Error loading configuration:', error);
        }
      }

      function createLinkElement(link) {
        const linkDiv = document.createElement('div');
        linkDiv.className =
          'bg-gray-950 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 border border-gray-700';

        linkDiv.innerHTML = `
                <a href="${link.url}" target="_blank" rel="noopener noreferrer"
                   class="flex items-center p-4 text-decoration-none hover:bg-gray-900 rounded-lg transition-colors duration-200">
                    <div class="w-12 h-12 rounded-lg overflow-hidden flex-shrink-0 bg-white flex items-center justify-center">
                        ${
                          link.icon
                            ? `<img src="${link.icon}" alt="${link.title}" class="${
                                link.fullBleed ? 'w-12 h-12 object-cover' : 'w-10 h-10 object-contain'
                              }">`
                            : `<span class="text-gray-500 font-semibold">${link.title.charAt(0)}</span>`
                        }
                    </div>
                    <div class="ml-4 flex-grow">
                        <div class="text-white">${link.title}</div>
                    </div>
                    <div class="text-gray-300">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </a>
            `;

        return linkDiv;
      }

      // Load configuration when page loads
      document.addEventListener('DOMContentLoaded', loadConfig);
    </script>
  </body>
</html>
